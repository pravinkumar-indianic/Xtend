<h1>Dashboard Snapshot Settings</h1>

<div class="ui segment">
    <h3>Settings</h3>
    <form data-request="onWidgetSettingsUpdate"
          data-request-flash
          class="ui form">
        <div class="field">
            <label for="display_year">Select which year & month would you like to display on dashboard</label>
            <select name="display_year" id="display_year">
                {% for i in 2023..'now'|date('Y') %}
                <option value="{{ i }}">{{ i }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="field">
            <select name="display_month" id="display_month">
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
            </select>
        </div>

        <p>
            <button type="save" class="ui button primary">Save</button>
        </p>
    </form>
</div>

<div class="ui segment">
    <h3>Upload Key Result Data</h3>
    <p>Upload your key result data here. (<a href="https://staging-upload-xtend.s3.ap-southeast-2.amazonaws.com/downloads/widget_key_result_data_import_sample.csv" target="_blank">download example.csv</a>)</p>

    <!-- AJAX enabled form -->
    <form data-request="onDashboardKeyResultsImport"
          data-request-files
          data-request-update="'{{ __SELF__}}::importresults': '#importResults'"
          class="ui form"
    >
        <div class="field">
            <input type="file" name="file" accept=".csv">
        </div>

        <div class="field">
            <label for="import_key_result_year">Select which year & month for which you would like to import the key results</label>
            <select name="import_key_result_year" id="import_key_result_year">
                {% for i in 2023..'now'|date('Y') %}
                <option value="{{ i }}">{{ i }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="field">
            <select name="import_key_result_month" id="import_key_result_month">
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
            </select>
        </div>

        <div class="ui toggle checkbox">
            <label>Skip invalid records</label>
            <input type="checkbox" name="skip_errors">
        </div>

        <!-- Action button -->
        <p>
            <button type="submit" class="ui button primary">Submit</button>
        </p>
    </form>

    <!-- Result container -->
    <div id="importResults"></div>
</div>

<div class="ui segment">
    <h3>Upload Widget Text</h3>
    <p>Upload your widget text here. (<a href="https://staging-upload-xtend.s3.ap-southeast-2.amazonaws.com/downloads/widget_text_import_sample.csv" target="_blank">download example.csv</a>)</p>

    <!-- AJAX enabled form -->
    <form data-request="onWidgetTextImport"
          data-request-files
          data-request-update="'{{ __SELF__}}::importresults': '#importResults'"
          class="ui form"
    >
        <div class="field">
            <input type="file" name="file" accept=".csv">
        </div>

        <div class="field">
            <label for="month">Select Month</label>
            <select name="month" id="month">
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
            </select>
        </div>

        <div class="ui toggle checkbox">
            <label>Skip invalid records</label>
            <input type="checkbox" name="skip_errors">
        </div>

        <!-- Action button -->
        <p>
            <button type="submit" class="ui button primary">Submit</button>
        </p>
    </form>

    <!-- Result container -->
    <div id="importResults"></div>
</div>

